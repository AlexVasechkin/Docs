**SEO Domains** — Это добавление дополнительных доменов и поддоменов для сайта, с возможностью импорта доменов из XLSX файла, а также автоматически добавлять их в Вебмастер Яндекса.

##Возможности##
* Управление доп. доменами и поддоменами (site.ru, spb.site.ru, astana.site.kz, site.by, brest.site.by)
* Управление доп. полями для каждого домена
* Импорт доменов через XLSX-файл
* Добавление и автоматическое подтверждение прав в Яндекс.Вебмастере
* Автоматическое получение координатов адреса
* Возможность выбора города пользователем

[![](https://file.modx.pro/files/1/1/3/1139d4347d7f695258c6e1ae569ed7b9.png)](https://file.modx.pro/files/1/1/3/1139d4347d7f695258c6e1ae569ed7b9.png)

##Пример использования##
Для добавления домена перейдите в Приложения -> Города и домены, нажмите Добавить, и заполните необходимые поля

[![](https://file.modx.pro/files/a/0/1/a011c73b53e50c8c89710b8cba7eb055.png)](https://file.modx.pro/files/a/0/1/a011c73b53e50c8c89710b8cba7eb055.png)

Для добавления дополнительного поля к выбранному домену, перейдите во вкладку Дополнительные поля, и нажмите добавить, введите ключ который будет доступен через вызов плейсхолдера (Пример: `[[!+sd.price_1]]`), а также остальные поля.

[![](https://file.modx.pro/files/3/3/8/338adad21de164b1e35b5541f9366cb8.png)](https://file.modx.pro/files/3/3/8/338adad21de164b1e35b5541f9366cb8.png)

## Доступные плейсхолдеры ##
* `[[!+sd.domain]]` — Домен
* `[[!+sd.city]]` — Город
* `[[!+sd.city_r]]` — Город (склонение)
* `[[!+sd.phone]]` — Телефон
* `[[!+sd.email]]` — E-mail
* `[[!+sd.address]]` — Адрес
* `[[!+sd.address_full]]` — Полный адрес
* `[[!+sd.coordinats]]` — Координаты

## Выбор города на сайте ##
Вызовите сниппет `SeoDomainsList` в нужном вам месте

### Пример вызова со всеми параметрами ###
```
[[SeoDomainsList?
    &tplRow=`SeoDomains.City.row`
    &tplOuter=`SeoDomains.City.outer`
    &sortby=`city`
    &sortdir=`ASC`
    &activeClass=`active`
]]
```

[![](https://file.modx.pro/files/0/e/1/0e18e79498148bdac68c65a9e5711028.jpg)](https://file.modx.pro/files/0/e/1/0e18e79498148bdac68c65a9e5711028.jpg)

## Автоматическое добавление сайта в Яндекс.Вебмастер ##
Для начала вам нужно зарегистрировать приложение в https://oauth.yandex.ru/, обязательно выберите в Доступах «Добавление сайтов в Яндекс.Вебмастер, получение информации о статусе индексирования». После получения `ID`, перейдите https://oauth.yandex.ru/authorize?response_type=token&client_id=ID, после скорируйте `token`, и сохраните его в Настройках приложения, ключ `seodomains_token`

## Управление доменами через админку MODX ##
Для это достаточно в Алиасах к сайту прописать wildcart поддомен (Пример: `*.seodomains.tyrsyna.ru`). При обращении к несуществующему домену будет происходить редирект на основной домен который был введен в настройках (ключ `seodomains_main_host`)

[![](https://file.modx.pro/files/2/0/7/207d143762c6b2b502e7b1684d541dcds.jpg)](https://file.modx.pro/files/2/0/7/207d143762c6b2b502e7b1684d541dcds.jpg)

## Настройки компонента ##
* `seodomains_default_email` — E-mail по умолчанию
* `seodomains_default_phone` — Телефон по умолчанию
* `seodomains_html_parent` — Родитель HTML ресурсов для подтверждения прав на домен
* `seodomains_main_host` — Основной хост
* `seodomains_phx_prefix` — Префикс для плейсхолдеров
* `seodomains_token` — Token от Яндекс.OAuth

## FAQ ##
Q: Где я могу найти пример xlsx-файла для импорта?

A: Пример находится в папке **assets/components/seodomains/import**